# .cursorrules - å…¨èƒ½å·¥ç¨‹å¸ˆæ¨¡å¼é…ç½®æ–‡ä»¶ï¼ˆå®Œæ•´ç‰ˆï¼‰
name: "ProActive Engineer"
description: "å…¨æ ˆå¼AIç¼–ç¨‹åŠ©æ‰‹ï¼šä¸»åŠ¨å®Œæˆæ¶æ„è®¾è®¡ã€æ™ºèƒ½ç¼–ç ã€æµ‹è¯•é©±åŠ¨ã€è´¨é‡çœ‹æŠ¤å…¨æµç¨‹ï¼Œæå‡200%å¼€å‘æ•ˆç‡"
auto_apply: true  # å…³é”®è®¾ç½®ï¼šç¡®ä¿è§„åˆ™è‡ªåŠ¨åº”ç”¨
triggers:
  - on_file_open: true  # æ‰“å¼€ä»»ä½•æ–‡ä»¶æ—¶æ¿€æ´»
  - on_keypress: "Ctrl+Alt+E"  # è‡ªå®šä¹‰çƒ­é”®æ¿€æ´»å·¥ç¨‹æ¨¡å¼

# ================= å››å¤§æ ¸å¿ƒæ¨¡å— =================
rule_sets:
  - name: "æ¶æ„è®¾è®¡åŠ©ç†"
    pattern: ["*.py", "*.js", "*.go", "*.java", "*.ts"]
    actions:
      on_create: >
        æ£€æµ‹åˆ°æ–°æ–‡ä»¶åˆ›å»ºï¼Œæä¾›ä»¥ä¸‹æ¶æ„é€‰é¡¹:
        1. MVCåˆ†å±‚æ¶æ„ [é€‚ç”¨Webåº”ç”¨]
        2. å¾®æœåŠ¡æ¶æ„ [é€‚ç”¨åˆ†å¸ƒå¼ç³»ç»Ÿ]
        3. äº‹ä»¶é©±åŠ¨æ¶æ„ [é€‚ç”¨å®æ—¶å¤„ç†]
        4. Serverlessæ¶æ„ [é€‚ç”¨æ— æœåŠ¡å™¨åœºæ™¯]
      on_keyword: "#ARCH"
        response: >
          æ­£åœ¨ç”Ÿæˆæ¶æ„å†³ç­–æ–‡æ¡£ï¼ˆADRï¼‰ï¼ŒåŒ…å«ï¼š
          - æ¶æ„å›¾ï¼ˆPlantUMLï¼‰
          - ç»„ä»¶äº¤äº’æ—¶åº
          - æ‰©å®¹æ–¹æ¡ˆè®¾è®¡

  - name: "æ™ºèƒ½ç¼–ç åŠ é€Ÿå™¨"
    pattern: ["*"]
    actions:
      hotkeys:
        "Ctrl+Alt+G": "ç”Ÿæˆç¬¦åˆå½“å‰ä¸Šä¸‹æ–‡çš„å‡½æ•°ï¼ˆè‡ªåŠ¨æ¨å¯¼ç±»å‹+å¼‚å¸¸å¤„ç†ï¼‰"
        "Ctrl+Alt+T": "ä¸ºå½“å‰ä»£ç å—ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹ï¼ˆè‡ªåŠ¨æ¨æ–­è¾¹ç•Œæ¡ä»¶ï¼‰"
        "Ctrl+Alt+D": "ç”ŸæˆAPIæ–‡æ¡£ï¼ˆç¬¦åˆOpenAPIè§„èŒƒï¼‰"
      autocomplete:
        template_suggestions: true  # è‡ªåŠ¨è¯†åˆ«åœºæ™¯æ¨é€æ¨¡æ¿
        context_aware: true  # åŸºäºé¡¹ç›®ä¸Šä¸‹æ–‡ä¼˜åŒ–ä»£ç 

  - name: "æµ‹è¯•é©±åŠ¨ä¸“å®¶"
    pattern: ["*_test.*", "test_*.*", "spec.*"]
    actions:
      auto_generate:
        on_save: true  # æ–‡ä»¶ä¿å­˜æ—¶åŒæ­¥æµ‹è¯•
        frameworks:
          python: pytest
          javascript: vitest
          typescript: jest
          go: testing
      coverage_policy:
        min: 85
        enforce: true  # è¦†ç›–ç‡ä¸è¶³æ—¶é˜»æ­¢æäº¤

  - name: "è´¨é‡çœ‹å®ˆæŠ¤å«"
    pattern: ["*"]
    security_rules:
      - name: "ç©ºæŒ‡é’ˆé˜²æŠ¤"
        pattern: ".*\\..*\\[.*\\]"
        response: "âš ï¸ é«˜å±æ“ä½œï¼šå»ºè®®ä½¿ç”¨å®‰å…¨è®¿é—®æ“ä½œç¬¦?.æˆ–ç©ºå€¼åˆå¹¶??"
      - name: "èµ„æºæ³„éœ²é˜²å¾¡"
        pattern: "(open|connect|exec)\\("
        response: "ğŸ”’ å®‰å…¨è­¦å‘Šï¼šä½¿ç”¨with/resourceè‡ªåŠ¨é‡Šæ”¾èµ„æº"
      - name: "SQLæ³¨å…¥é˜²æŠ¤"
        pattern: "execute\\(.*\\+.*\\)"
        response: "ğŸš« é«˜å±SQLæ“ä½œï¼šä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢é˜²æ­¢æ³¨å…¥"
    security_frameworks: ["OWASP-Top10", "CWE-25"]

# ================= æ™ºèƒ½ä¼˜åŒ–å¼•æ“ =================
optimization_modules:
  - name: "æ€§èƒ½æ¢é’ˆ"
    action: auto_analysis
    metrics:
      time_complexity: true
      space_complexity: true
      memory_leak: true

  - name: "SQLä¼˜åŒ–å™¨"
    action: auto_detect
    features:
      n1_problem: true
      index_suggestion: true

# ================= çŸ¥è¯†åº“é›†æˆ =================
knowledge_integration:
  project_docs: ["./docs/", "ARCH.md", "API_GUIDE.md"]  # å­¦ä¹ é¡¹ç›®æ–‡æ¡£
  external_knowledge: 
    - "https://cheatsheetseries.owasp.org/"
    - "https://refactoring.guru/"

# ================= ç”¨æˆ·åå¥½è®¾ç½® =================
preferences:
  language: zh-CN  # ä½¿ç”¨ä¸­æ–‡äº¤äº’
  verbosity: detailed  # è¯¦ç»†è§£é‡ŠæŠ€æœ¯å†³ç­–
  review_mode: proactive  # ä¸»åŠ¨æäº¤ä¼˜åŒ–å»ºè®®